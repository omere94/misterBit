import{_ as m,r as p,o as i,c as d,a as s,b as h,w as _,d as y,F as b,e as k,f as g,t as f,C as I,S as N,P as V,N as U,g as T,h as v,v as P,i as F,j as M,k as C,p as R,l as z,m as w,n as G,q,s as A,u as D,x as O,y as j,z as H,A as J,B as K,D as W,E as Y}from"./vendor.3c7898ca.js";const Q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};Q();var X="/assets/logo.679ca9a1.png";const Z={},ee={class:"app-header full"},te=s("img",{class:"logo",src:X},null,-1),oe=y("Home"),se=y("Dashboard"),ne=y("About"),re=y("Add Toy");function le(t,e){const r=p("router-link");return i(),d("header",ee,[te,s("nav",null,[h(r,{to:"/"},{default:_(()=>[oe]),_:1}),h(r,{to:"/dashboard"},{default:_(()=>[se]),_:1}),h(r,{to:"/about"},{default:_(()=>[ne]),_:1}),h(r,{to:"/edit"},{default:_(()=>[re]),_:1})])])}var ae=m(Z,[["render",le]]);const ie={name:"App",created(){this.$store.dispatch({type:"loadToys"})},components:{appHeader:ae}};function ce(t,e,r,l,o,n){const c=p("app-header"),u=p("router-view");return i(),d(b,null,[h(c),h(u)],64)}var ue=m(ie,[["render",ce]]);const de={},pe={class:"custom-card"};function _e(t,e){return i(),d("article",pe,[s("header",null,[k(t.$slots,"header")]),s("main",null,[k(t.$slots,"default")]),s("footer",null,[k(t.$slots,"footer")])])}var ye=m(de,[["render",_e]]);const he={name:"toy-preview",props:{toy:Object},components:{customCard:ye},methods:{goToDetail(){this.$router.push(`/details/${this.toy._id}`)},goToEdit(){this.$router.push(`/edit/${this.toy._id}`)},removeToy(t){this.$emit("removeToy",t)}},computed:{formatPrice(){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(this.toy.price)}}},me=["src"],fe={class:"information"},ge={class:"categories"},ve=y("Categories: ");function be(t,e,r,l,o,n){const c=p("custom-card");return i(),g(c,null,{header:_(()=>[s("img",{width:"100%",src:r.toy.url,alt:"No image"},null,8,me),s("div",fe,[s("h2",null,f(r.toy.name),1),s("h2",null,f(n.formatPrice),1)])]),footer:_(()=>[s("button",{onClick:e[0]||(e[0]=(...u)=>n.goToDetail&&n.goToDetail(...u))},"Details"),s("button",{onClick:e[1]||(e[1]=(...u)=>n.goToEdit&&n.goToEdit(...u))},"Edit"),s("button",{onClick:e[2]||(e[2]=u=>n.removeToy(r.toy._id))},"Delete")]),default:_(()=>[s("div",ge,[s("p",null,[ve,s("span",null,f(r.toy.labels.join(", ")),1)])])]),_:1})}var ke=m(he,[["render",be]]);const $e={name:"toy-list",props:{toys:{type:Array,required:!0}},components:{toyPreview:ke,Carousel:I,Slide:N,Pagination:V,Navigation:U},methods:{removeToy(t){this.$emit("removeToy",t)}},computed:{isLoading(){return this.$store.getters.isLoading}}},Te={key:0},Ce={key:1,class:"toy-list"};function Be(t,e,r,l,o,n){const c=p("toy-preview"),u=p("slide"),a=p("Navigation"),B=p("Pagination"),x=p("carousel");return n.isLoading?(i(),d("p",Te,"Loading...")):(i(),d("section",Ce,[h(x,{"items-to-show":5,"wrap-around":!0},{addons:_(()=>[h(a),h(B)]),default:_(()=>[(i(!0),d(b,null,T(r.toys,L=>(i(),g(u,{key:L._id},{default:_(()=>[h(c,{onRemoveToy:n.removeToy,toy:L},null,8,["onRemoveToy","toy"])]),_:2},1024))),128))]),_:1})]))}var we=m($e,[["render",Be]]);const Se={name:"toy-filter",data(){return{filterBy:{name:"",stock:"",labels:[],sortBy:""}}},methods:{setFilter(){this.$emit("setFilter",JSON.parse(JSON.stringify(this.filterBy)))}},computed:{labels(){return this.$store.getters.getLabels}}},Ee={class:"toy-filter full"},xe={class:"search"},Le={class:"stock-filter"},Fe=y(" | All | "),Pe=y(" | On stock | "),Ae=y(" | Out of stock | "),De=y(" | "),Oe=y(" Sort By: "),Ie=s("option",{value:"time"},"Time",-1),Ne=s("option",{value:"name"},"Name",-1),Ve=s("option",{value:"price"},"Price",-1),Ue=[Ie,Ne,Ve];function Me(t,e,r,l,o,n){const c=p("el-option"),u=p("el-select");return i(),d("section",Ee,[s("div",xe,[v(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.filterBy.name=a),onInput:e[1]||(e[1]=(...a)=>n.setFilter&&n.setFilter(...a)),type:"text",placeholder:"Search toy.."},null,544),[[P,o.filterBy.name]])]),s("div",Le,[s("label",null,[Fe,v(s("input",{type:"radio",value:"","onUpdate:modelValue":e[2]||(e[2]=a=>o.filterBy.stock=a),onChange:e[3]||(e[3]=(...a)=>n.setFilter&&n.setFilter(...a))},null,544),[[F,o.filterBy.stock]])]),s("label",null,[Pe,v(s("input",{type:"radio",value:"true","onUpdate:modelValue":e[4]||(e[4]=a=>o.filterBy.stock=a),onChange:e[5]||(e[5]=(...a)=>n.setFilter&&n.setFilter(...a))},null,544),[[F,o.filterBy.stock]])]),s("label",null,[Ae,v(s("input",{type:"radio",value:"false","onUpdate:modelValue":e[6]||(e[6]=a=>o.filterBy.stock=a),onChange:e[7]||(e[7]=(...a)=>n.setFilter&&n.setFilter(...a))},null,544),[[F,o.filterBy.stock]])]),h(u,{style:{width:"150px"},placeholder:"Select category",onChange:n.setFilter,multiple:"",modelValue:o.filterBy.labels,"onUpdate:modelValue":e[8]||(e[8]=a=>o.filterBy.labels=a),"collapse-tags":"","collapse-tags-tooltip":""},{default:_(()=>[(i(!0),d(b,null,T(n.labels,a=>(i(),g(c,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["onChange","modelValue"]),De]),s("label",null,[Oe,v(s("select",{onChange:e[9]||(e[9]=(...a)=>n.setFilter&&n.setFilter(...a)),"onUpdate:modelValue":e[10]||(e[10]=a=>o.filterBy.sortBy=a)},Ue,544),[[M,o.filterBy.sortBy]])])])}var Re=m(Se,[["render",Me]]);const ze={},Ge={class:""};function qe(t,e){return i(),d("article",Ge,[s("header",null,[k(t.$slots,"header")]),s("main",null,[k(t.$slots,"default")]),s("footer",null,[k(t.$slots,"footer")])])}var je=m(ze,[["render",qe]]);const He={name:"toy-app",data(){return{isChatOpen:!1}},methods:{removeToy(t){this.$store.dispatch({type:"removeToy",id:t})},setFilter(t){this.$store.dispatch({type:"filter",filterBy:t})}},computed:{toys(){return this.$store.getters.getToys}},components:{toyList:we,toyFilter:Re,nicePopup:je}},Je=t=>(R("data-v-7d0fdcaa"),t=t(),z(),t),Ke=Je(()=>s("p",null,"Chat is currently offline.",-1));function We(t,e,r,l,o,n){const c=p("toy-filter"),u=p("toy-list"),a=p("nice-popup");return i(),d(b,null,[h(c,{onSetFilter:n.setFilter},null,8,["onSetFilter"]),n.toys?(i(),g(u,{key:0,onRemoveToy:n.removeToy,toys:n.toys},null,8,["onRemoveToy","toys"])):C("",!0),o.isChatOpen?(i(),g(a,{key:1,class:"chat"},{header:_(()=>[]),footer:_(()=>[]),default:_(()=>[Ke]),_:1})):C("",!0),s("div",{onClick:e[0]||(e[0]=B=>o.isChatOpen=!o.isChatOpen),class:"chat-widget"},"Chat")],64)}var Ye=m(He,[["render",We],["__scopeId","data-v-7d0fdcaa"]]);const $={query:Qe,getById:Xe,remove:Ze,save:et,getEmptyToy:tt};function S(t=""){return`/api/toy/${t}`}function Qe(t){return w.get(S(),{params:t}).then(e=>e.data)}function Xe(t){return w.get(S(t)).then(e=>e.data)}function Ze(t){return w.delete(S(t))}function et(t){return t._id?w.put(S(t._id),t).then(e=>e.data):w.post(S(),t).then(e=>e.data)}function tt(){return{name:"",price:0,inStock:!0,labels:[],reviews:[],url:""}}const ot={name:"toy-details",data(){return{toy:null}},created(){const{id:t}=this.$route.params;$.getById(t).then(e=>{this.toy=e})},methods:{goBack(){this.$router.push("/")}},computed:{formatDate(){return new Date(this.toy.createdAt).toDateString()},formatPrice(){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(this.toy.price)}}},st={key:0},nt=s("span",null,"SKU:",-1),rt=s("p",null,[s("span",null,"Categories:")],-1),lt=s("span",null,"PRICE:",-1),at=s("span",null,"Placed on store at:",-1),it=s("h4",null,"Reviews:",-1),ct={key:1};function ut(t,e,r,l,o,n){return o.toy?(i(),d("section",st,[s("article",null,[s("h3",null,f(o.toy.name),1),s("p",null,[nt,y(" "+f(o.toy._id),1)]),rt,(i(!0),d(b,null,T(o.toy.labels,c=>(i(),d("p",{key:c},f(c),1))),128)),s("p",null,[lt,y(" "+f(n.formatPrice),1)]),s("p",null,[at,y(" "+f(n.formatDate),1)]),it,s("ul",null,[o.toy.reviews.length?(i(!0),d(b,{key:0},T(o.toy.reviews,c=>(i(),d("li",{key:c},[s("p",null,f(c.txt),1)]))),128)):(i(),d("li",ct,"No reviews yet."))])]),s("button",{onClick:e[0]||(e[0]=(...c)=>n.goBack&&n.goBack(...c))},"go back")])):C("",!0)}var dt=m(ot,[["render",ut]]);const pt={name:"toy-edit",data(){return{toyToEdit:null}},created(){const{id:t}=this.$route.params;t?$.getById(t).then(e=>{this.toyToEdit=e}):this.toyToEdit=$.getEmptyToy()},methods:{goBack(){this.$router.push("/")},save(){console.log("this.toyToEdit",this.toyToEdit),this.$store.dispatch({type:"saveToy",toy:this.toyToEdit}).then(()=>{this.$router.push("/")})}},computed:{labels(){return this.$store.getters.getLabels},formTitle(){const{id:t}=this.$route.params;return t?"Edit Toy":"Add a new toy!"}}},_t={key:0,class:"toy-edit"},yt=y(" Name of the toy? "),ht=y(" Price of the toy? "),mt=y(" On stock? "),ft={class:"categories"},gt=s("p",null,"Choose Categories:",-1),vt=s("button",null,"Save",-1);function bt(t,e,r,l,o,n){const c=p("el-checkbox");return o.toyToEdit?(i(),d("section",_t,[s("h1",null,f(n.formTitle),1),s("form",{onSubmit:e[4]||(e[4]=q((...u)=>n.save&&n.save(...u),["prevent"]))},[s("label",null,[yt,v(s("input",{type:"text",placeholder:"Write the name here","onUpdate:modelValue":e[0]||(e[0]=u=>o.toyToEdit.name=u)},null,512),[[P,o.toyToEdit.name]])]),s("label",null,[ht,v(s("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=u=>o.toyToEdit.price=u),min:"0",max:"150"},null,512),[[P,o.toyToEdit.price]])]),s("label",null,[mt,v(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=u=>o.toyToEdit.inStock=u)},null,512),[[G,o.toyToEdit.inStock]])]),s("div",ft,[gt,(i(!0),d(b,null,T(n.labels,u=>(i(),g(c,{key:u,label:u,modelValue:o.toyToEdit.labels,"onUpdate:modelValue":e[3]||(e[3]=a=>o.toyToEdit.labels=a),size:"medium",border:""},null,8,["label","modelValue"]))),128))]),vt],32)])):C("",!0)}var kt=m(pt,[["render",bt]]);const $t={name:"App",data(){return{center:{lat:32.00094236242111,lng:34.73142477492578},markers:[{position:{lat:32.00094236242111,lng:34.73142477492578}},{position:{lat:32.02591861872609,lng:34.73909563991699}},{position:{lat:32.00787167143741,lng:34.73504682652268}}]}}};function Tt(t,e,r,l,o,n){const c=p("GMapMarker"),u=p("GMapCluster"),a=p("GMapMap");return i(),g(a,{center:o.center,zoom:14,"map-type-id":"terrain",style:{width:"500px",height:"300px"}},{default:_(()=>[h(u,null,{default:_(()=>[(i(!0),d(b,null,T(o.markers,(B,x)=>(i(),g(c,{key:x,position:B.position,clickable:!0,draggable:!0,onClick:L=>o.center=B.position},null,8,["position","onClick"]))),128))]),_:1})]),_:1},8,["center"])}var Ct=m($t,[["render",Tt]]);A.register(...D);const Bt={components:{PieChart:O},data(){return{data:{labels:[],datasets:[{data:[],backgroundColor:["#0070d2","#e83e8c","#ffee00","#008827","#d50b22"]}]}}},created(){this.showPrices()},methods:{showPrices(){var t=this.$store.getters.getToys.reduce((e,r)=>(r.labels.forEach(l=>{e[l]?(e[l].total+=r.price,e[l].amount++):e[l]={total:r.price,amount:1}}),e),{});for(const e in t)this.data.labels.push(e),this.data.datasets[0].data.push(t[e].total/t[e].amount)}}},wt=s("h3",null,"By price",-1);function St(t,e,r,l,o,n){const c=p("PieChart");return i(),d("section",null,[wt,h(c,{chartData:o.data},null,8,["chartData"])])}var Et=m(Bt,[["render",St]]);A.register(...D);const xt={components:{PieChart:O},data(){return{data:{labels:[],datasets:[{data:[],backgroundColor:["#0070d2","#e83e8c","#ffee00","#008827","#d50b22"]}]}}},created(){this.showLabels()},methods:{showLabels(){const t=this.$store.getters.getToys;var e=t.reduce((l,o)=>(o.inStock||l++,l),0);this.data.labels.push("Out of stock"),this.data.datasets[0].data.push(e);var r=t.reduce((l,o)=>(o.inStock&&o.labels.forEach(n=>{l[n]?l[n]++:l[n]=1}),l),{});for(const l in r)this.data.labels.push(l),this.data.datasets[0].data.push(r[l])}}},Lt=s("h3",null,"By Stock",-1);function Ft(t,e,r,l,o,n){const c=p("PieChart");return i(),d("section",null,[Lt,h(c,{chartData:o.data},null,8,["chartData"])])}var Pt=m(xt,[["render",Ft]]);const At={data(){return{}},computed:{toys(){return this.$store.getters.getToys}},components:{chartOne:Et,chartTwo:Pt}},Dt={class:"toy-dashboard"},Ot=s("h1",null,"Toys statistics",-1),It={class:"charts"};function Nt(t,e,r,l,o,n){const c=p("chart-one"),u=p("chart-two");return i(),d("section",Dt,[Ot,s("div",It,[n.toys?(i(),g(c,{key:0})):C("",!0),n.toys?(i(),g(u,{key:1})):C("",!0)])])}var Vt=m(At,[["render",Nt]]);const Ut=j({history:H("/"),routes:[{path:"/",name:"App",component:Ye},{path:"/about",name:"about",component:Ct},{path:"/dashboard",name:"toy-dashboard",component:Vt},{path:"/details/:id",name:"toy-details",component:dt},{path:"/edit/:id?",name:"toy-edit",component:kt}]});var Mt={state:{toys:null,labels:["On wheels","Box game","Art","Baby","Doll","Puzzle","Outdoor"],filterBy:null,isLoading:!1},getters:{getToys(t){return t.toys},getLabels(t){return t.labels},isLoading(t){return t.isLoading}},mutations:{setToys(t,{toys:e}){t.toys=e},setIsLoading(t,{isLoading:e}){t.isLoading=e},removeToy(t,{id:e}){const r=t.toys.findIndex(l=>l._id===e);t.toys.splice(r,1)},saveToy(t,{toy:e}){console.log(e);const r=t.toys.findIndex(l=>l._id===e._id);r!==-1?t.toys.splice(r,1,e):t.toys.push(e)},setFilter(t,{filterBy:e}){t.filterBy=e}},actions:{loadToys({commit:t,state:e}){t({type:"setIsLoading",isLoading:!0}),$.query(e.filterBy).then(r=>{t({type:"setToys",toys:r})}).catch(r=>{throw console.error("Cannot Load toys",r),r}).finally(()=>{t({type:"setIsLoading",isLoading:!1})})},removeToy({commit:t},{id:e}){$.remove(e).then(()=>{t({type:"removeToy",id:e})}).catch(r=>{throw console.error("Cannot remove toy",r),r})},saveToy({commit:t},{toy:e}){console.log(e),$.save(e).then(r=>{t({type:"saveToy",toy:r})}).catch(r=>{throw console.error("Cannot Edit/Add toy",r),r})},filter({commit:t,dispatch:e},{filterBy:r}){t({type:"setFilter",filterBy:r}),e({type:"loadToys"})}}};const Rt=J({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{toyStore:Mt}});const E=K(ue);E.use(W,{load:{key:"AIzaSyAFB4nEkOrt28B4J9aiTih_9EYjzpIBiVA"}});E.use(Ut);E.use(Rt);E.use(Y);E.mount("#app");
